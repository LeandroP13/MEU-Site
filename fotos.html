<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Galeria de Fotos</title>
  <link rel="stylesheet" href="style.css">
</head>
<body onload="carregarFotos()">
  <header>
    <h1>üì∏ Nossas Mem√≥rias üì∏</h1>
  </header>
  <nav>
    <ul>
      <li><a href="index.html">üè† In√≠cio</a></li>
      <li><a href="historias.html">üìñ Hist√≥rias e Cartas</a></li>
      <li><a href="lista_tarefas.html">üìù Lista de Tarefas</a></li>
    </ul>
  </nav>
  <main>
    <section>
      <h2>üì∏ Galeria de Fotos</h2>
      <p>Aqui est√£o algumas fotos que representam nossos momentos mais especiais! ‚ù§Ô∏è</p>
      <div class="gallery" id="galleryContainer"></div>
      <input type="file" id="fileInput" accept="image/*" onchange="adicionarFoto(event)">
      <button class="btn" onclick="document.getElementById('fileInput').click()">‚ûï Adicionar Foto</button>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 Nosso Site Todos os direitos reservados.üíñ</p>
  </footer>
  <script>
    // Fun√ß√£o para adicionar foto √† galeria
    function adicionarFoto(event) {
      const arquivo = event.target.files[0]; // Obt√©m o arquivo enviado
      if (!arquivo) return; // Se nenhum arquivo for selecionado, sai da fun√ß√£o
      const reader = new FileReader();
      reader.onload = function(e) {
        const fotos = JSON.parse(localStorage.getItem('fotos')) || []; // Obt√©m as fotos do localStorage
        fotos.push(e.target.result); // Adiciona a nova foto ao array
        localStorage.setItem('fotos', JSON.stringify(fotos)); // Salva as fotos no localStorage
        carregarFotos(); // Atualiza a galeria
      };
      reader.readAsDataURL(arquivo); // L√™ o arquivo como uma URL de dados
    }

    // Fun√ß√£o para carregar fotos na galeria
    function carregarFotos() {
      const container = document.getElementById("galleryContainer");
      container.innerHTML = ""; // Limpa a galeria
      const fotos = JSON.parse(localStorage.getItem('fotos')) || []; // Obt√©m as fotos do localStorage
      fotos.forEach((foto, index) => {
        const div = document.createElement("div"); // Cria um novo div para cada foto
        const img = document.createElement("img"); // Cria a imagem
        img.src = foto; // Define a fonte da imagem
        img.alt = "Foto"; // Atributo alt para a imagem
        const btnExcluir = document.createElement("button"); // Cria o bot√£o de excluir
        btnExcluir.textContent = "‚ùå"; // Define o texto do bot√£o
        btnExcluir.classList.add("btn"); // Adiciona a classe 'btn'
        btnExcluir.style.position = "absolute"; // Posiciona o bot√£o
        btnExcluir.style.top = "5px";
        btnExcluir.style.right = "5px";
        btnExcluir.onclick = function() { // Fun√ß√£o para remover a foto ao clicar no bot√£o
          removerFoto(index);
        };
        div.appendChild(img); // Adiciona a imagem ao div
        div.appendChild(btnExcluir); // Adiciona o bot√£o de excluir ao div
        container.appendChild(div); // Adiciona o div na galeria
      });
    }

    // Fun√ß√£o para remover foto da galeria
    function removerFoto(index) {
      let fotos = JSON.parse(localStorage.getItem('fotos')) || []; // Obt√©m as fotos do localStorage
      fotos.splice(index, 1); // Remove a foto no √≠ndice especificado
      localStorage.setItem('fotos', JSON.stringify(fotos)); // Atualiza as fotos no localStorage
      carregarFotos(); // Atualiza a galeria
    }
  </script>
  <div id="mensagensContainer"></div>

</body>
</html>
